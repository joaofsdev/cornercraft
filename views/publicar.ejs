<%- include('partials/header') %>
<div class="min-h-screen bg-gray-100 flex flex-col items-center justify-center py-8 px-2">
    <div class="w-full max-w-2xl bg-white rounded-2xl shadow-2xl p-8 border border-gray-200">
        <h2 class="text-4xl font-extrabold text-gray-800 mb-8 text-center tracking-tight">Publicar Tutorial</h2>
        <% if (erro) { %>
            <div class="mb-6">
                <p class="text-red-600 bg-red-100 border border-red-300 rounded-lg px-4 py-2 text-center text-base font-medium shadow"> <%= erro %> </p>
            </div>
        <% } %>
        <form action="/videos/publicar" method="POST" enctype="multipart/form-data" class="space-y-6">
            <div>
                <label for="titulo" class="block text-base font-semibold text-gray-700 mb-1">Título <span class="text-red-500">*</span></label>
                <input type="text" id="titulo" name="titulo" required maxlength="255" placeholder="Ex: Como fazer crochê básico" class="mt-1 block w-full rounded-lg border border-gray-300 shadow-sm focus:border-green-400 focus:ring-2 focus:ring-green-200 focus:ring-opacity-50 px-4 py-2 text-lg transition" autocomplete="off">
            </div>
            <div>
                <label for="descricao" class="block text-base font-semibold text-gray-700 mb-1">Descrição</label>
                <textarea id="descricao" name="descricao" rows="3" maxlength="1000" placeholder="Descreva brevemente o tutorial..." class="mt-1 block w-full rounded-lg border border-gray-300 shadow-sm focus:border-green-400 focus:ring-2 focus:ring-green-200 focus:ring-opacity-50 px-4 py-2 text-lg resize-none transition"></textarea>
            </div>
            <div>
                <label for="categorias" class="block text-base font-semibold text-gray-700 mb-1">Categorias <span class="text-red-500">*</span></label>
                <select id="categorias" name="categorias" multiple required class="mt-1 block w-full rounded-lg border border-gray-300 shadow-sm focus:border-green-400 focus:ring-2 focus:ring-green-200 focus:ring-opacity-50 px-4 py-2 text-lg transition h-40 bg-white">
                    <% categorias.forEach(categoria => { %>
                        <option value="<%= categoria.id %>"><%= categoria.nome || categoria.nome_categoria %></option>
                    <% }) %>
                </select>
                <p class="text-xs text-gray-500 mt-1">Segure Ctrl (Windows) ou Command (Mac) para selecionar múltiplas categorias.</p>
            </div>
            <div>
                <label for="video" class="block text-base font-semibold text-gray-700 mb-1">Vídeo <span class="text-red-500">*</span> <span class="text-xs text-gray-500">(MP4, até 100MB)</span></label>
                <input type="file" id="video" name="video" accept=".mp4" required class="mt-1 block w-full rounded-lg border border-gray-300 shadow-sm focus:border-green-400 focus:ring-2 focus:ring-green-200 focus:ring-opacity-50 px-4 py-2 text-lg transition bg-white">
            </div>
            <div>
                <label for="thumbnail" class="block text-base font-semibold text-gray-700 mb-1">Thumbnail <span class="text-xs text-gray-500">(JPG/PNG, até 5MB)</span></label>
                <input type="file" id="thumbnail" name="thumbnail" accept=".jpg,.jpeg,.png" class="mt-1 block w-full rounded-lg border border-gray-300 shadow-sm focus:border-green-400 focus:ring-2 focus:ring-green-200 focus:ring-opacity-50 px-4 py-2 text-lg transition bg-white">
            </div>
            <div class="flex justify-center pt-2">
                <button type="submit" class="bg-green-500 hover:bg-green-600 transition text-white px-8 py-3 rounded-xl text-lg font-bold shadow-lg focus:outline-none focus:ring-2 focus:ring-green-300 focus:ring-opacity-50">Publicar</button>
            </div>
        </form>
    </div>
</div>
<%- include('partials/footer') %>